---
tags:
  - Linux
  - Error
  - Syntax
  - Terminal
author:
  - "[[김선음]]"
aliases:
  - Linux_error
created: 2025-12-16 05:55
index:
---
# GitHub CLI (gh) apt update 404 오류 해결

## 1. 문제 상황

- `sudo apt update` 실행 시 GitHub CLI 저장소에서 **404 Not Found** 오류 발생.
    
- **에러 로그:** `Err: ... https://cli.github.com/packages jammy Release 404 Not Found`
    
- **원인:**
    
    - GitHub CLI는 우분투 코드명(예: `jammy`) 대신 `stable` 경로를 사용해야 함.
        
    - 이전에 잘못 추가된 `sources.list` 파일이 시스템에 남아 있어 충돌 발생.
        

## 2. 해결 과정

### 1) 올바른 저장소(stable) 및 GPG 키 재등록

기존 설정을 무시하고, 공식 가이드에 따라 올바른 `stable` 경로와 인증 키를 등록함. (`sudo` 권한 문제 수정 포함)

Bash

```
curl -fsSL https://cli.github.com/packages/githubcli-archive-keyring.gpg | sudo dd of=/usr/share/keyrings/githubcli-archive-keyring.gpg \
&& sudo chmod go+r /usr/share/keyrings/githubcli-archive-keyring.gpg \
&& echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/githubcli-archive-keyring.gpg] https://cli.github.com/packages stable main" | sudo tee /etc/apt/sources.list.d/github-cli.list > /dev/null
```

### 2) 충돌을 일으키는 잘못된 파일 탐색

`stable`을 등록했음에도 오류가 지속되어, `grep` 명령어로 잘못된 주소(`jammy`)를 포함한 범인 파일을 찾음.

Bash

```
grep -r "cli.github.com.*jammy" /etc/apt/
```

- **발견된 파일:** `/etc/apt/sources.list.d/archive_uri-https_cli_github_com_pakages-jammy.list`
    

### 3) 잘못된 설정 파일 삭제

발견된 문제의 파일과 백업 파일(`.save`)을 모두 삭제.

Bash

```
sudo rm /etc/apt/sources.list.d/archive_uri-https_cli_github_com_pakages-jammy.list*
```

### 4) 최종 확인

패키지 목록 업데이트 재실행 시 정상 작동 확인.

Bash

```
sudo apt update
```

## 3. 핵심 요약

- GitHub CLI 설치 시 **`jammy`가 아닌 `stable`** 경로를 사용해야 한다.
    
- 설정이 꼬였을 때는 올바른 설정을 넣는 것뿐만 아니라, `grep`으로 **숨어있는 잘못된 설정 파일(.list)**을 찾아 지워야 한다.